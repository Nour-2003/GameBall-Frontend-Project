<div class="container mt-4">
  <div class="row align-items-start mb-3">
    <div class="col-auto">
      <img
        [src]="
          authorImage 
            ? authorImage
            : 'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_640.png'"
        alt="Author Profile"
        class="rounded-circle"
        style="width: 50px; height: 50px"
      />
    </div>
    <div class="col">
      <div
        class="comment-box position-relative p-3 rounded"
        style="background-color: #f3f6f8"
      >
        <h6 class="author-name mb-1">{{ author }}</h6>

        <!-- Edit Mode -->
        <ng-container *ngIf="isEditing; else viewComment">
          <textarea [(ngModel)]="editedComment" rows="2" class="form-control"></textarea>
          <button class="btn btn-primary mt-2" (click)="saveEdit()">Save</button>
          <button class="btn btn-secondary mt-2" (click)="cancelEdit()">Cancel</button>
        </ng-container>

        <!-- View Mode -->
        <ng-template #viewComment>
          <p class="mb-0">{{ comment }}</p>
        </ng-template>

        <div class="position-absolute end-0 bottom-0 d-flex gap-2">
          <button
            *ngIf="IsAuth"
            class="btn"
            (click)="startEditing()"
          >
            <i class="fas fa-edit fa-xl text-warning"></i>
          </button>
          <button
            *ngIf="IsAuth"
            class="btn"
            (click)="deleteComment()"
          >
            <i class="fas fa-trash fa-xl text-danger"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
